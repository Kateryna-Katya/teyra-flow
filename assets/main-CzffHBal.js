(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&m(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function m(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();lucide.createIcons();const E=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2});function g(e){E.raf(e),requestAnimationFrame(g)}requestAnimationFrame(g);const p=document.querySelector(".header"),u=document.querySelector(".burger-btn"),a=document.querySelector(".mobile-menu"),w=document.querySelectorAll(".mobile-menu__link, .mobile-menu__btn"),y=document.body;window.addEventListener("scroll",()=>{window.scrollY>50?p.classList.add("scrolled"):p.classList.remove("scrolled")});function v(){a.classList.contains("is-active")?(a.classList.remove("is-active"),y.style.overflow="",u.innerHTML='<i data-lucide="menu"></i>'):(a.classList.add("is-active"),y.style.overflow="hidden",u.innerHTML='<i data-lucide="x"></i>'),lucide.createIcons()}u.addEventListener("click",v);w.forEach(e=>{e.addEventListener("click",()=>{a.classList.contains("is-active")&&v()})});document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);const e=document.querySelector(".hero__title-base");e&&new SplitType(e,{types:"lines, words"}),gsap.timeline().fromTo(".hero__title-base .word",{y:50,opacity:0},{y:0,opacity:1,stagger:.05,duration:1,ease:"power3.out"}).fromTo(".hero__title-accent",{opacity:0,scaleX:.8,y:10},{opacity:1,scaleX:1,y:0,duration:.6,ease:"back.out(1.7)"},"-=0.5").fromTo(".hero__desc .reveal-text",{y:20,opacity:0},{y:0,opacity:1,duration:.8,ease:"power2.out"},"-=0.5").fromTo(".reveal-up",{y:30,opacity:0},{y:0,opacity:1,duration:.8,ease:"power2.out",stagger:.2},"-=0.5").fromTo(".hero__visual",{opacity:0,scale:.9},{opacity:1,scale:1,duration:1.2,ease:"back.out(1.7)"},"-=1"),gsap.set(".reveal-text, .reveal-up",{opacity:1}),document.querySelectorAll(".reveal-trigger").forEach(i=>{gsap.fromTo(i,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 90%",toggleActions:"play none none none"}})})});const f=document.getElementById("contactForm"),I=document.getElementById("phone"),C=document.getElementById("captchaQuestion"),r=document.getElementById("captcha"),c=document.getElementById("captchaStatus"),n=document.getElementById("formMessage");let d=0;function h(){const e=Math.floor(Math.random()*5)+3,t=Math.floor(Math.random()*3)+1;d=e+t,C.textContent=`${e} + ${t}`,r.value="",r.classList.remove("success","error"),c.textContent=""}h();r.addEventListener("input",()=>{const e=parseInt(r.value),t=r.closest(".form-group");e===d?(t.classList.remove("error"),t.classList.add("success"),c.textContent="✅",c.style.color="var(--color-success)"):(t.classList.remove("success"),r.value.length>0?(t.classList.add("error"),c.textContent="❌",c.style.color="var(--color-error)"):(t.classList.remove("error"),c.textContent=""))});I.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")});f.addEventListener("submit",e=>{if(e.preventDefault(),n.style.display="none",parseInt(r.value)!==d){n.textContent="Ошибка: неверный ответ на капчу.",n.classList.remove("success"),n.classList.add("error"),n.style.display="block";return}const t=document.getElementById("submitBtn");t.textContent="Отправка...",t.disabled=!0,setTimeout(()=>{n.textContent="Спасибо! Ваша заявка принята. Мы свяжемся с вами в ближайшее время.",n.classList.remove("error"),n.classList.add("success"),n.style.display="block",f.reset(),h(),t.textContent="Запросить консультацию",t.disabled=!1},2e3)});const L=document.getElementById("cookiePopup"),M=document.getElementById("acceptCookies"),b="teyraFlow_cookiesAccepted";function _(){localStorage.getItem(b)!=="true"&&L.classList.add("visible")}function T(){localStorage.setItem(b,"true"),L.classList.remove("visible")}M.addEventListener("click",T);window.addEventListener("load",_);
//# sourceMappingURL=main-CzffHBal.js.map
